import{aN as e,ab as n,aO as a,r as s,G as t,m as o,ah as l,aa as i}from"./index-0d090638.js";import{m as c}from"./map-741cce01.js";const r=e("useMenuStore",(()=>{const e=n(),r=a(),{allRouters:u}=l(),m=s(function(e){const n=new Set,a=e=>{c(e,(e=>{const{name:s,children:t,meta:o}=e;s&&!(null==o?void 0:o.isHidden)&&n.add(s),i(t)||a(t)}))};return a(e),n}(t(u))),p=e=>c(e,(e=>{const{path:n,name:a,children:s,meta:t}=e,{lineIcon:o,localIcon:l,isHidden:c,isTitle:r}=t||{};return a&&m.value.add(a),{key:a||n,show:!c,children:i(s)?[]:p(s),localIcon:l,lineIcon:o,label:r||n}})),d=s(p(t(u))),h=s([]),y=s(null);return o((()=>{const{name:n}=e;m.value.has(n)&&(y.value=n)})),{menuOptions:d,setOpenKeys:e=>{h.value=e},openKeys:h,setSelectKey:async e=>{/^http(s)?:\/\//.test(e)?window.open(e,"_blank"):(await r.push({name:e}),y.value=e)},selectKey:y}}),{persist:{paths:["openKeys","selectKey","menuOptions"]}});export{r as u};

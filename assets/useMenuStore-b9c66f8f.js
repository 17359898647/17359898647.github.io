import{aK as e,ac as n,aL as s,r as a,G as t,m as o,ah as l,ab as c}from"./index-fe7feb26.js";import{m as i}from"./map-214dc0fe.js";const r=e("useMenuStore",(()=>{const e=n(),r=s(),{allRouters:u}=l(),m=a(function(e){const n=new Set,s=e=>{i(e,(e=>{const{name:a,children:t,meta:o}=e;a&&!(null==o?void 0:o.isHidden)&&n.add(a),c(t)||s(t)}))};return s(e),n}(t(u))),p=e=>i(e,(e=>{const{path:n,name:s,children:a,meta:t}=e,{lineIcon:o,localIcon:l,isHidden:i,isTitle:r}=t||{};return s&&m.value.add(s),{key:s||n,show:!i,children:c(a)?[]:p(a),localIcon:l,lineIcon:o,label:r||n}})),d=a(p(t(u))),h=a([]),y=a(null);return o((()=>{const{name:n}=e;m.value.has(n)&&(y.value=n)})),{menuOptions:d,setOpenKeys:e=>{h.value=e},openKeys:h,setSelectKey:async e=>{/^http(s)?:\/\//.test(e)?window.open(e,"_blank"):(await r.push({name:e}),y.value=e)},selectKey:y}}),{persist:{paths:["openKeys","selectKey","menuOptions"]}});export{r as u};

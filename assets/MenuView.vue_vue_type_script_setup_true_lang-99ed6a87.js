import{_ as e}from"./SvgIcon.vue_vue_type_script_setup_true_lang-ffc0e1f5.js";import{d as o,h as n,K as t,F as r,q as i,p as l,Z as a,_ as c,N as d,r as s,$ as v,a0 as m,a1 as u,a2 as h,j as p,f as x,i as g,P as f,a3 as b,a4 as z,k as C,x as y,a5 as w,m as I,t as A,Q as S,A as H,a6 as N,a7 as P,a8 as R,G as k,a9 as T,aa as F,l as K,s as O,o as L,c as j,a as $}from"./index-3b119add.js";import{m as E}from"./map-92c5301d.js";import{l as M}from"./interface-ca2756b5.js";import{_,c as B}from"./Dropdown-ef087573.js";import{N as V}from"./Tooltip-e56dd1df.js";import{u as D}from"./use-merged-state-736bd0fe.js";import{u as U}from"./Popover-d8d5b422.js";const q=o({name:"ChevronDownFilled",render:()=>n("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M3.20041 5.73966C3.48226 5.43613 3.95681 5.41856 4.26034 5.70041L8 9.22652L11.7397 5.70041C12.0432 5.41856 12.5177 5.43613 12.7996 5.73966C13.0815 6.0432 13.0639 6.51775 12.7603 6.7996L8.51034 10.7996C8.22258 11.0668 7.77743 11.0668 7.48967 10.7996L3.23966 6.7996C2.93613 6.51775 2.91856 6.0432 3.20041 5.73966Z",fill:"currentColor"}))}),G=t("n-menu"),W=t("n-submenu"),Z=t("n-menu-item-group");function Q(e){const o=r(G),{props:n,mergedCollapsedRef:t}=o,l=r(W,null),a=r(Z,null),c=i((()=>"horizontal"===n.mode)),d=i((()=>c.value?n.dropdownPlacement:"tmNodes"in e?"right-start":"right")),s=i((()=>{var e;return Math.max(null!==(e=n.collapsedIconSize)&&void 0!==e?e:n.iconSize,n.iconSize)})),v=i((()=>{var o;return!c.value&&e.root&&t.value&&null!==(o=n.collapsedIconSize)&&void 0!==o?o:n.iconSize})),m=i((()=>{if(c.value)return;const{collapsedWidth:o,indent:r,rootIndent:i}=n,{root:d,isGroup:v}=e,m=void 0===i?r:i;return d?t.value?o/2-s.value/2:m:a?r/2+a.paddingLeftRef.value:l?(v?r/2:r)+l.paddingLeftRef.value:void 0})),u=i((()=>{const{collapsedWidth:o,indent:r,rootIndent:i}=n,{value:l}=s,{root:a}=e;if(c.value)return 8;if(!a)return 8;if(!t.value)return 8;return(void 0===i?r:i)+l+8-(o+l)/2}));return{dropdownPlacement:d,activeIconSize:v,maxIconSize:s,paddingLeft:m,iconMarginRight:u,NMenu:o,NSubmenu:l}}const J={internalKey:{type:[String,Number],required:!0},root:Boolean,isGroup:Boolean,level:{type:Number,required:!0},title:[String,Function],extra:[String,Function]},X=Object.assign(Object.assign({},J),{tmNode:{type:Object,required:!0},tmNodes:{type:Array,required:!0}}),Y=o({name:"MenuOptionGroup",props:X,setup(e){l(W,null);const o=Q(e);l(Z,{paddingLeftRef:o.paddingLeft});const{mergedClsPrefixRef:t,props:i}=r(G);return function(){const{value:r}=t,l=o.paddingLeft.value,{nodeProps:d}=i,s=null==d?void 0:d(e.tmNode.rawNode);return n("div",{class:`${r}-menu-item-group`,role:"group"},n("div",Object.assign({},s,{class:[`${r}-menu-item-group-title`,null==s?void 0:s.class],style:[(null==s?void 0:s.style)||"",void 0!==l?`padding-left: ${l}px;`:""]}),a(e.title),e.extra?n(c,null," ",a(e.extra)):null),n("div",null,e.tmNodes.map((e=>se(e,i)))))}}}),ee=o({name:"MenuOptionContent",props:{collapsed:Boolean,disabled:Boolean,title:[String,Function],icon:Function,extra:[String,Function],showArrow:Boolean,childActive:Boolean,hover:Boolean,paddingLeft:Number,selected:Boolean,maxIconSize:{type:Number,required:!0},activeIconSize:{type:Number,required:!0},iconMarginRight:{type:Number,required:!0},clsPrefix:{type:String,required:!0},onClick:Function,tmNode:{type:Object,required:!0}},setup(e){const{props:o}=r(G);return{menuProps:o,style:i((()=>{const{paddingLeft:o}=e;return{paddingLeft:o&&`${o}px`}})),iconStyle:i((()=>{const{maxIconSize:o,activeIconSize:n,iconMarginRight:t}=e;return{width:`${o}px`,height:`${o}px`,fontSize:`${n}px`,marginRight:`${t}px`}}))}},render(){const{clsPrefix:e,tmNode:o,menuProps:{renderIcon:t,renderLabel:r,renderExtra:i,expandIcon:l}}=this,c=t?t(o.rawNode):a(this.icon);return n("div",{onClick:e=>{var o;null===(o=this.onClick)||void 0===o||o.call(this,e)},role:"none",class:[`${e}-menu-item-content`,{[`${e}-menu-item-content--selected`]:this.selected,[`${e}-menu-item-content--collapsed`]:this.collapsed,[`${e}-menu-item-content--child-active`]:this.childActive,[`${e}-menu-item-content--disabled`]:this.disabled,[`${e}-menu-item-content--hover`]:this.hover}],style:this.style},c&&n("div",{class:`${e}-menu-item-content__icon`,style:this.iconStyle,role:"none"},[c]),n("div",{class:`${e}-menu-item-content-header`,role:"none"},r?r(o.rawNode):a(this.title),this.extra||i?n("span",{class:`${e}-menu-item-content-header__extra`}," ",i?i(o.rawNode):a(this.extra)):null),this.showArrow?n(d,{ariaHidden:!0,class:`${e}-menu-item-content__arrow`,clsPrefix:e},{default:()=>l?l(o.rawNode):n(q,null)}):null)}}),oe=Object.assign(Object.assign({},J),{rawNodes:{type:Array,default:()=>[]},tmNodes:{type:Array,default:()=>[]},tmNode:{type:Object,required:!0},disabled:{type:Boolean,default:!1},icon:Function,onClick:Function}),ne=o({name:"Submenu",props:oe,setup(e){const o=Q(e),{NMenu:n,NSubmenu:t}=o,{props:r,mergedCollapsedRef:a,mergedThemeRef:c}=n,d=i((()=>{const{disabled:o}=e;return!!(null==t?void 0:t.mergedDisabledRef.value)||(!!r.disabled||o)})),m=s(!1);return l(W,{paddingLeftRef:o.paddingLeft,mergedDisabledRef:d}),l(Z,null),{menuProps:r,mergedTheme:c,doSelect:n.doSelect,inverted:n.invertedRef,isHorizontal:n.isHorizontalRef,mergedClsPrefix:n.mergedClsPrefixRef,maxIconSize:o.maxIconSize,activeIconSize:o.activeIconSize,iconMarginRight:o.iconMarginRight,dropdownPlacement:o.dropdownPlacement,dropdownShow:m,paddingLeft:o.paddingLeft,mergedDisabled:d,mergedValue:n.mergedValueRef,childActive:v((()=>n.activePathRef.value.includes(e.internalKey))),collapsed:i((()=>"horizontal"!==r.mode&&(!!a.value||!n.mergedExpandedKeysRef.value.includes(e.internalKey)))),dropdownEnabled:i((()=>!d.value&&("horizontal"===r.mode||a.value))),handlePopoverShowChange:function(e){m.value=e},handleClick:function(){d.value||(a.value||n.toggleExpand(e.internalKey),function(){const{onClick:o}=e;o&&o()}())}}},render(){var e;const{mergedClsPrefix:o,menuProps:{renderIcon:t,renderLabel:r}}=this,i=()=>{const{isHorizontal:e,paddingLeft:o,collapsed:t,mergedDisabled:r,maxIconSize:i,activeIconSize:l,title:a,childActive:c,icon:d,handleClick:s,menuProps:{nodeProps:v},dropdownShow:m,iconMarginRight:u,tmNode:h,mergedClsPrefix:p}=this,x=null==v?void 0:v(h.rawNode);return n("div",Object.assign({},x,{class:[`${p}-menu-item`,null==x?void 0:x.class],role:"menuitem"}),n(ee,{tmNode:h,paddingLeft:o,collapsed:t,disabled:r,iconMarginRight:u,maxIconSize:i,activeIconSize:l,title:a,extra:this.extra,showArrow:!e,childActive:c,clsPrefix:p,icon:d,hover:m,onClick:s}))},l=()=>n(m,null,{default:()=>{const{tmNodes:e,collapsed:t}=this;return t?null:n("div",{class:`${o}-submenu-children`,role:"menu"},e.map((e=>se(e,this.menuProps))))}});return this.root?n(_,Object.assign({size:"large",trigger:"hover"},null===(e=this.menuProps)||void 0===e?void 0:e.dropdownProps,{themeOverrides:this.mergedTheme.peerOverrides.Dropdown,theme:this.mergedTheme.peers.Dropdown,builtinThemeOverrides:{fontSizeLarge:"14px",optionIconSizeLarge:"18px"},value:this.mergedValue,disabled:!this.dropdownEnabled,placement:this.dropdownPlacement,keyField:this.menuProps.keyField,labelField:this.menuProps.labelField,childrenField:this.menuProps.childrenField,onUpdateShow:this.handlePopoverShowChange,options:this.rawNodes,onSelect:this.doSelect,inverted:this.inverted,renderIcon:t,renderLabel:r}),{default:()=>n("div",{class:`${o}-submenu`,role:"menuitem","aria-expanded":!this.collapsed},i(),this.isHorizontal?null:l())}):n("div",{class:`${o}-submenu`,role:"menuitem","aria-expanded":!this.collapsed},i(),l())}}),te=Object.assign(Object.assign({},J),{tmNode:{type:Object,required:!0},disabled:Boolean,icon:Function,onClick:Function}),re=o({name:"MenuOption",props:te,setup(e){const o=Q(e),{NSubmenu:n,NMenu:t}=o,{props:r,mergedClsPrefixRef:l,mergedCollapsedRef:a}=t,c=n?n.mergedDisabledRef:{value:!1},d=i((()=>c.value||e.disabled));return{mergedClsPrefix:l,dropdownPlacement:o.dropdownPlacement,paddingLeft:o.paddingLeft,iconMarginRight:o.iconMarginRight,maxIconSize:o.maxIconSize,activeIconSize:o.activeIconSize,mergedTheme:t.mergedThemeRef,menuProps:r,dropdownEnabled:v((()=>e.root&&a.value&&"horizontal"!==r.mode&&!d.value)),selected:v((()=>t.mergedValueRef.value===e.internalKey)),mergedDisabled:d,handleClick:function(o){d.value||(t.doSelect(e.internalKey,e.tmNode.rawNode),function(o){const{onClick:n}=e;n&&n(o)}(o))}}},render(){const{mergedClsPrefix:e,mergedTheme:o,tmNode:t,menuProps:{renderLabel:r,nodeProps:i}}=this,l=null==i?void 0:i(t.rawNode);return n("div",Object.assign({},l,{role:"menuitem",class:[`${e}-menu-item`,null==l?void 0:l.class]}),n(V,{theme:o.peers.Tooltip,themeOverrides:o.peerOverrides.Tooltip,trigger:"hover",placement:this.dropdownPlacement,disabled:!this.dropdownEnabled||void 0===this.title,internalExtraClass:["menu-tooltip"]},{default:()=>r?r(t.rawNode):a(this.title),trigger:()=>n(ee,{tmNode:t,clsPrefix:e,paddingLeft:this.paddingLeft,iconMarginRight:this.iconMarginRight,maxIconSize:this.maxIconSize,activeIconSize:this.activeIconSize,selected:this.selected,title:this.title,extra:this.extra,disabled:this.mergedDisabled,icon:this.icon,onClick:this.handleClick})}))}}),ie=o({name:"MenuDivider",setup(){const e=r(G),{mergedClsPrefixRef:o,isHorizontalRef:t}=e;return()=>t.value?null:n("div",{class:`${o.value}-menu-divider`})}}),le=h(X),ae=h(te),ce=h(oe);function de(e){return"divider"===e.type||"render"===e.type}function se(e,o){const{rawNode:t}=e,{show:r}=t;if(!1===r)return null;if(de(t))return function(e){return"divider"===e.type}(t)?n(ie,Object.assign({key:e.key},t.props)):null;const{labelField:i}=o,{key:l,level:a,isGroup:c}=e,d=Object.assign(Object.assign({},t),{title:t.title||t[i],extra:t.titleExtra||t.extra,key:l,internalKey:l,level:a,root:0===a,isGroup:c});return e.children?e.isGroup?n(Y,u(d,le,{tmNode:e,tmNodes:e.children,key:l})):n(ne,u(d,ce,{key:l,rawNodes:t[o.childrenField],tmNodes:e.children,tmNode:e})):n(re,u(d,ae,{key:l,tmNode:e}))}const ve=[p("&::before","background-color: var(--n-item-color-hover);"),f("arrow","\n color: var(--n-arrow-color-hover);\n "),f("icon","\n color: var(--n-item-icon-color-hover);\n "),x("menu-item-content-header","\n color: var(--n-item-text-color-hover);\n ",[p("a","\n color: var(--n-item-text-color-hover);\n "),f("extra","\n color: var(--n-item-text-color-hover);\n ")])],me=[f("icon","\n color: var(--n-item-icon-color-hover-horizontal);\n "),x("menu-item-content-header","\n color: var(--n-item-text-color-hover-horizontal);\n ",[p("a","\n color: var(--n-item-text-color-hover-horizontal);\n "),f("extra","\n color: var(--n-item-text-color-hover-horizontal);\n ")])],ue=p([x("menu","\n background-color: var(--n-color);\n color: var(--n-item-text-color);\n overflow: hidden;\n transition: background-color .3s var(--n-bezier);\n box-sizing: border-box;\n font-size: var(--n-font-size);\n padding-bottom: 6px;\n ",[g("horizontal","\n display: inline-flex;\n padding-bottom: 0;\n ",[x("submenu","margin: 0;"),x("menu-item","margin: 0;"),x("menu-item-content","\n padding: 0 20px;\n border-bottom: 2px solid #0000;\n ",[p("&::before","display: none;"),g("selected","border-bottom: 2px solid var(--n-border-color-horizontal)")]),x("menu-item-content",[g("selected",[f("icon","color: var(--n-item-icon-color-active-horizontal);"),x("menu-item-content-header","\n color: var(--n-item-text-color-active-horizontal);\n ",[p("a","color: var(--n-item-text-color-active-horizontal);"),f("extra","color: var(--n-item-text-color-active-horizontal);")])]),g("child-active","\n border-bottom: 2px solid var(--n-border-color-horizontal);\n ",[x("menu-item-content-header","\n color: var(--n-item-text-color-child-active-horizontal);\n ",[p("a","\n color: var(--n-item-text-color-child-active-horizontal);\n "),f("extra","\n color: var(--n-item-text-color-child-active-horizontal);\n ")]),f("icon","\n color: var(--n-item-icon-color-child-active-horizontal);\n ")]),b("disabled",[b("selected, child-active",[p("&:focus-within",me)]),g("selected",[he(null,[f("icon","color: var(--n-item-icon-color-active-hover-horizontal);"),x("menu-item-content-header","\n color: var(--n-item-text-color-active-hover-horizontal);\n ",[p("a","color: var(--n-item-text-color-active-hover-horizontal);"),f("extra","color: var(--n-item-text-color-active-hover-horizontal);")])])]),g("child-active",[he(null,[f("icon","color: var(--n-item-icon-color-child-active-hover-horizontal);"),x("menu-item-content-header","\n color: var(--n-item-text-color-child-active-hover-horizontal);\n ",[p("a","color: var(--n-item-text-color-child-active-hover-horizontal);"),f("extra","color: var(--n-item-text-color-child-active-hover-horizontal);")])])]),he("border-bottom: 2px solid var(--n-border-color-horizontal);",me)]),x("menu-item-content-header",[p("a","color: var(--n-item-text-color-horizontal);")])])]),g("collapsed",[x("menu-item-content",[g("selected",[p("&::before","\n background-color: var(--n-item-color-active-collapsed) !important;\n ")]),x("menu-item-content-header","opacity: 0;"),f("arrow","opacity: 0;"),f("icon","color: var(--n-item-icon-color-collapsed);")])]),x("menu-item","\n height: var(--n-item-height);\n margin-top: 6px;\n position: relative;\n "),x("menu-item-content",'\n box-sizing: border-box;\n line-height: 1.75;\n height: 100%;\n display: grid;\n grid-template-areas: "icon content arrow";\n grid-template-columns: auto 1fr auto;\n align-items: center;\n cursor: pointer;\n position: relative;\n padding-right: 18px;\n transition:\n background-color .3s var(--n-bezier),\n padding-left .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n ',[p("> *","z-index: 1;"),p("&::before",'\n z-index: auto;\n content: "";\n background-color: #0000;\n position: absolute;\n left: 8px;\n right: 8px;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n '),g("disabled","\n opacity: .45;\n cursor: not-allowed;\n "),g("collapsed",[f("arrow","transform: rotate(0);")]),g("selected",[p("&::before","background-color: var(--n-item-color-active);"),f("arrow","color: var(--n-arrow-color-active);"),f("icon","color: var(--n-item-icon-color-active);"),x("menu-item-content-header","\n color: var(--n-item-text-color-active);\n ",[p("a","color: var(--n-item-text-color-active);"),f("extra","color: var(--n-item-text-color-active);")])]),g("child-active",[x("menu-item-content-header","\n color: var(--n-item-text-color-child-active);\n ",[p("a","\n color: var(--n-item-text-color-child-active);\n "),f("extra","\n color: var(--n-item-text-color-child-active);\n ")]),f("arrow","\n color: var(--n-arrow-color-child-active);\n "),f("icon","\n color: var(--n-item-icon-color-child-active);\n ")]),b("disabled",[b("selected, child-active",[p("&:focus-within",ve)]),g("selected",[he(null,[f("arrow","color: var(--n-arrow-color-active-hover);"),f("icon","color: var(--n-item-icon-color-active-hover);"),x("menu-item-content-header","\n color: var(--n-item-text-color-active-hover);\n ",[p("a","color: var(--n-item-text-color-active-hover);"),f("extra","color: var(--n-item-text-color-active-hover);")])])]),g("child-active",[he(null,[f("arrow","color: var(--n-arrow-color-child-active-hover);"),f("icon","color: var(--n-item-icon-color-child-active-hover);"),x("menu-item-content-header","\n color: var(--n-item-text-color-child-active-hover);\n ",[p("a","color: var(--n-item-text-color-child-active-hover);"),f("extra","color: var(--n-item-text-color-child-active-hover);")])])]),g("selected",[he(null,[p("&::before","background-color: var(--n-item-color-active-hover);")])]),he(null,ve)]),f("icon","\n grid-area: icon;\n color: var(--n-item-icon-color);\n transition:\n color .3s var(--n-bezier),\n font-size .3s var(--n-bezier),\n margin-right .3s var(--n-bezier);\n box-sizing: content-box;\n display: inline-flex;\n align-items: center;\n justify-content: center;\n "),f("arrow","\n grid-area: arrow;\n font-size: 16px;\n color: var(--n-arrow-color);\n transform: rotate(180deg);\n opacity: 1;\n transition:\n color .3s var(--n-bezier),\n transform 0.2s var(--n-bezier),\n opacity 0.2s var(--n-bezier);\n "),x("menu-item-content-header","\n grid-area: content;\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n opacity: 1;\n white-space: nowrap;\n overflow: hidden;\n text-overflow: ellipsis;\n color: var(--n-item-text-color);\n ",[p("a","\n outline: none;\n text-decoration: none;\n transition: color .3s var(--n-bezier);\n color: var(--n-item-text-color);\n ",[p("&::before",'\n content: "";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ')]),f("extra","\n font-size: .93em;\n color: var(--n-group-text-color);\n transition: color .3s var(--n-bezier);\n ")])]),x("submenu","\n cursor: pointer;\n position: relative;\n margin-top: 6px;\n ",[x("menu-item-content","\n height: var(--n-item-height);\n "),x("submenu-children","\n overflow: hidden;\n padding: 0;\n ",[z({duration:".2s"})])]),x("menu-item-group",[x("menu-item-group-title","\n margin-top: 6px;\n color: var(--n-group-text-color);\n cursor: default;\n font-size: .93em;\n height: 36px;\n display: flex;\n align-items: center;\n transition:\n padding-left .3s var(--n-bezier),\n color .3s var(--n-bezier);\n ")])]),x("menu-tooltip",[p("a","\n color: inherit;\n text-decoration: none;\n ")]),x("menu-divider","\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-divider-color);\n height: 1px;\n margin: 6px 18px;\n ")]);function he(e,o){return[g("hover",e,o),p("&:hover",e,o)]}const pe=o({name:"Menu",props:Object.assign(Object.assign({},y.props),{options:{type:Array,default:()=>[]},collapsed:{type:Boolean,default:void 0},collapsedWidth:{type:Number,default:48},iconSize:{type:Number,default:20},collapsedIconSize:{type:Number,default:24},rootIndent:Number,indent:{type:Number,default:32},labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandAll:Boolean,defaultExpandedKeys:Array,expandedKeys:Array,value:[String,Number],defaultValue:{type:[String,Number],default:null},mode:{type:String,default:"vertical"},watchProps:{type:Array,default:void 0},disabled:Boolean,show:{type:Boolean,default:!0},inverted:Boolean,"onUpdate:expandedKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],onUpdateValue:[Function,Array],"onUpdate:value":[Function,Array],expandIcon:Function,renderIcon:Function,renderLabel:Function,renderExtra:Function,dropdownProps:Object,accordion:Boolean,nodeProps:Function,items:Array,onOpenNamesChange:[Function,Array],onSelect:[Function,Array],onExpandedNamesChange:[Function,Array],expandedNames:Array,defaultExpandedNames:Array,dropdownPlacement:{type:String,default:"bottom"}}),setup(e){const{mergedClsPrefixRef:o,inlineThemeDisabled:n}=C(e),t=y("Menu","-menu",ue,w,e,o),a=r(M,null),c=i((()=>{var o;const{collapsed:n}=e;if(void 0!==n)return n;if(a){const{collapseModeRef:e,collapsedRef:n}=a;if("width"===e.value)return null!==(o=n.value)&&void 0!==o&&o}return!1})),d=i((()=>{const{keyField:o,childrenField:n,disabledField:t}=e;return B(e.items||e.options,{getIgnored:e=>de(e),getChildren:e=>e[n],getDisabled:e=>e[t],getKey(e){var n;return null!==(n=e[o])&&void 0!==n?n:e.name}})})),v=i((()=>new Set(d.value.treeNodes.map((e=>e.key))))),{watchProps:m}=e,u=s(null);(null==m?void 0:m.includes("defaultValue"))?I((()=>{u.value=e.defaultValue})):u.value=e.defaultValue;const h=A(e,"value"),p=D(h,u),x=s([]),g=()=>{x.value=e.defaultExpandAll?d.value.getNonLeafKeys():e.defaultExpandedNames||e.defaultExpandedKeys||d.value.getPath(p.value,{includeSelf:!1}).keyPath};(null==m?void 0:m.includes("defaultExpandedKeys"))?I(g):g();const f=U(e,["expandedNames","expandedKeys"]),b=D(f,x),z=i((()=>d.value.treeNodes)),N=i((()=>d.value.getPath(p.value).keyPath));function P(o){const{"onUpdate:expandedKeys":n,onUpdateExpandedKeys:t,onExpandedNamesChange:r,onOpenNamesChange:i}=e;n&&S(n,o),t&&S(t,o),r&&S(r,o),i&&S(i,o),x.value=o}l(G,{props:e,mergedCollapsedRef:c,mergedThemeRef:t,mergedValueRef:p,mergedExpandedKeysRef:b,activePathRef:N,mergedClsPrefixRef:o,isHorizontalRef:i((()=>"horizontal"===e.mode)),invertedRef:A(e,"inverted"),doSelect:function(o,n){const{"onUpdate:value":t,onUpdateValue:r,onSelect:i}=e;r&&S(r,o,n);t&&S(t,o,n);i&&S(i,o,n);u.value=o},toggleExpand:function(o){const n=Array.from(b.value),t=n.findIndex((e=>e===o));if(~t)n.splice(t,1);else{if(e.accordion&&v.value.has(o)){const e=n.findIndex((e=>v.value.has(e)));e>-1&&n.splice(e,1)}n.push(o)}P(n)}});const R=i((()=>{const{inverted:o}=e,{common:{cubicBezierEaseInOut:n},self:r}=t.value,{borderRadius:i,borderColorHorizontal:l,fontSize:a,itemHeight:c,dividerColor:d}=r,s={"--n-divider-color":d,"--n-bezier":n,"--n-font-size":a,"--n-border-color-horizontal":l,"--n-border-radius":i,"--n-item-height":c};return o?(s["--n-group-text-color"]=r.groupTextColorInverted,s["--n-color"]=r.colorInverted,s["--n-item-text-color"]=r.itemTextColorInverted,s["--n-item-text-color-hover"]=r.itemTextColorHoverInverted,s["--n-item-text-color-active"]=r.itemTextColorActiveInverted,s["--n-item-text-color-child-active"]=r.itemTextColorChildActiveInverted,s["--n-item-text-color-child-active-hover"]=r.itemTextColorChildActiveInverted,s["--n-item-text-color-active-hover"]=r.itemTextColorActiveHoverInverted,s["--n-item-icon-color"]=r.itemIconColorInverted,s["--n-item-icon-color-hover"]=r.itemIconColorHoverInverted,s["--n-item-icon-color-active"]=r.itemIconColorActiveInverted,s["--n-item-icon-color-active-hover"]=r.itemIconColorActiveHoverInverted,s["--n-item-icon-color-child-active"]=r.itemIconColorChildActiveInverted,s["--n-item-icon-color-child-active-hover"]=r.itemIconColorChildActiveHoverInverted,s["--n-item-icon-color-collapsed"]=r.itemIconColorCollapsedInverted,s["--n-item-text-color-horizontal"]=r.itemTextColorHorizontalInverted,s["--n-item-text-color-hover-horizontal"]=r.itemTextColorHoverHorizontalInverted,s["--n-item-text-color-active-horizontal"]=r.itemTextColorActiveHorizontalInverted,s["--n-item-text-color-child-active-horizontal"]=r.itemTextColorChildActiveHorizontalInverted,s["--n-item-text-color-child-active-hover-horizontal"]=r.itemTextColorChildActiveHoverHorizontalInverted,s["--n-item-text-color-active-hover-horizontal"]=r.itemTextColorActiveHoverHorizontalInverted,s["--n-item-icon-color-horizontal"]=r.itemIconColorHorizontalInverted,s["--n-item-icon-color-hover-horizontal"]=r.itemIconColorHoverHorizontalInverted,s["--n-item-icon-color-active-horizontal"]=r.itemIconColorActiveHorizontalInverted,s["--n-item-icon-color-active-hover-horizontal"]=r.itemIconColorActiveHoverHorizontalInverted,s["--n-item-icon-color-child-active-horizontal"]=r.itemIconColorChildActiveHorizontalInverted,s["--n-item-icon-color-child-active-hover-horizontal"]=r.itemIconColorChildActiveHoverHorizontalInverted,s["--n-arrow-color"]=r.arrowColorInverted,s["--n-arrow-color-hover"]=r.arrowColorHoverInverted,s["--n-arrow-color-active"]=r.arrowColorActiveInverted,s["--n-arrow-color-active-hover"]=r.arrowColorActiveHoverInverted,s["--n-arrow-color-child-active"]=r.arrowColorChildActiveInverted,s["--n-arrow-color-child-active-hover"]=r.arrowColorChildActiveHoverInverted,s["--n-item-color-hover"]=r.itemColorHoverInverted,s["--n-item-color-active"]=r.itemColorActiveInverted,s["--n-item-color-active-hover"]=r.itemColorActiveHoverInverted,s["--n-item-color-active-collapsed"]=r.itemColorActiveCollapsedInverted):(s["--n-group-text-color"]=r.groupTextColor,s["--n-color"]=r.color,s["--n-item-text-color"]=r.itemTextColor,s["--n-item-text-color-hover"]=r.itemTextColorHover,s["--n-item-text-color-active"]=r.itemTextColorActive,s["--n-item-text-color-child-active"]=r.itemTextColorChildActive,s["--n-item-text-color-child-active-hover"]=r.itemTextColorChildActiveHover,s["--n-item-text-color-active-hover"]=r.itemTextColorActiveHover,s["--n-item-icon-color"]=r.itemIconColor,s["--n-item-icon-color-hover"]=r.itemIconColorHover,s["--n-item-icon-color-active"]=r.itemIconColorActive,s["--n-item-icon-color-active-hover"]=r.itemIconColorActiveHover,s["--n-item-icon-color-child-active"]=r.itemIconColorChildActive,s["--n-item-icon-color-child-active-hover"]=r.itemIconColorChildActiveHover,s["--n-item-icon-color-collapsed"]=r.itemIconColorCollapsed,s["--n-item-text-color-horizontal"]=r.itemTextColorHorizontal,s["--n-item-text-color-hover-horizontal"]=r.itemTextColorHoverHorizontal,s["--n-item-text-color-active-horizontal"]=r.itemTextColorActiveHorizontal,s["--n-item-text-color-child-active-horizontal"]=r.itemTextColorChildActiveHorizontal,s["--n-item-text-color-child-active-hover-horizontal"]=r.itemTextColorChildActiveHoverHorizontal,s["--n-item-text-color-active-hover-horizontal"]=r.itemTextColorActiveHoverHorizontal,s["--n-item-icon-color-horizontal"]=r.itemIconColorHorizontal,s["--n-item-icon-color-hover-horizontal"]=r.itemIconColorHoverHorizontal,s["--n-item-icon-color-active-horizontal"]=r.itemIconColorActiveHorizontal,s["--n-item-icon-color-active-hover-horizontal"]=r.itemIconColorActiveHoverHorizontal,s["--n-item-icon-color-child-active-horizontal"]=r.itemIconColorChildActiveHorizontal,s["--n-item-icon-color-child-active-hover-horizontal"]=r.itemIconColorChildActiveHoverHorizontal,s["--n-arrow-color"]=r.arrowColor,s["--n-arrow-color-hover"]=r.arrowColorHover,s["--n-arrow-color-active"]=r.arrowColorActive,s["--n-arrow-color-active-hover"]=r.arrowColorActiveHover,s["--n-arrow-color-child-active"]=r.arrowColorChildActive,s["--n-arrow-color-child-active-hover"]=r.arrowColorChildActiveHover,s["--n-item-color-hover"]=r.itemColorHover,s["--n-item-color-active"]=r.itemColorActive,s["--n-item-color-active-hover"]=r.itemColorActiveHover,s["--n-item-color-active-collapsed"]=r.itemColorActiveCollapsed),s})),k=n?H("menu",i((()=>e.inverted?"a":"b")),R,e):void 0;return{mergedClsPrefix:o,controlledExpandedKeys:f,uncontrolledExpanededKeys:x,mergedExpandedKeys:b,uncontrolledValue:u,mergedValue:p,activePath:N,tmNodes:z,mergedTheme:t,mergedCollapsed:c,cssVars:n?void 0:R,themeClass:null==k?void 0:k.themeClass,onRender:null==k?void 0:k.onRender,showOption:o=>{const n=d.value.getPath(null!=o?o:p.value,{includeSelf:!1}).keyPath;if(!n.length)return;const t=Array.from(b.value),r=new Set([...t,...n]);e.accordion&&v.value.forEach((e=>{r.has(e)&&!n.includes(e)&&r.delete(e)})),P(Array.from(r))}}},render(){const{mergedClsPrefix:e,mode:o,themeClass:t,onRender:r}=this;return null==r||r(),n("div",{role:"horizontal"===o?"menubar":"menu",class:[`${e}-menu`,t,`${e}-menu--${o}`,this.mergedCollapsed&&`${e}-menu--collapsed`],style:this.cssVars},this.tmNodes.map((e=>se(e,this.$props))))}});const xe=N("useMenuStore",(()=>{const e=P(),o=R(),{allRouters:n}=T(),t=s(function(e){const o=new Set,n=e=>{E(e,(e=>{const{name:t,children:r,meta:i}=e;t&&!(null==i?void 0:i.isHidden)&&o.add(t),F(r)||n(r)}))};return n(e),o}(k(n))),r=e=>E(e,(e=>{const{path:o,name:n,children:i,meta:l}=e,{lineIcon:a,localIcon:c,isHidden:d,isTitle:s}=l||{};return n&&t.value.add(n),{key:n||o,show:!d,children:F(i)?[]:r(i),localIcon:c,lineIcon:a,label:s||o}})),i=s(r(k(n))),l=s([]),a=s(null);return I((()=>{const{name:o}=e;t.value.has(o)&&(a.value=o)})),{menuOptions:i,setOpenKeys:e=>{l.value=e},openKeys:l,setSelectKey:async e=>{/^http(s)?:\/\//.test(e)?window.open(e,"_blank"):(await o.push({name:e}),a.value=e)},selectKey:a}}),{persist:{paths:["openKeys","selectKey","menuOptions"]}}),ge=o({__name:"MenuView",setup(o){const{isCollapsedWidth:n,isAccordion:t}=r(K);function l(o){const{localIcon:n,lineIcon:t}=o;return $(e,{lineIcon:t,localIcon:n,size:24},null)}const a=xe(),{setOpenKeys:c,setSelectKey:d}=a,{openKeys:s,selectKey:v,menuOptions:m}=O(a),u=i((()=>{const e=o=>E(o,(o=>{const{children:n,...t}=o;return n&&n.length?{...t,children:e(n)}:t}));return e(m.value)}));return(e,o)=>{const r=pe;return L(),j(r,{accordion:k(t),class:"select-none",collapsedWidth:k(n),expandedKeys:k(s),indent:18,options:u.value,renderIcon:l,value:k(v),"onUpdate:expandedKeys":k(c),"onUpdate:value":k(d)},null,8,["accordion","collapsedWidth","expandedKeys","options","value","onUpdate:expandedKeys","onUpdate:value"])}}});export{ge as _};

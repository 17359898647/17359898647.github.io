import{ag as e,n as t,ah as n}from"./index-52eaa004.js";const o=new Set,i=new WeakMap,r=new WeakMap,a=new WeakMap,s=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakSet;let f,p=0,h=0;const m="__aa_tgt",g="__aa_del",w="__aa_new",y=e=>{const t=function(e){const t=e.reduce(((e,t)=>[...e,...Array.from(t.addedNodes),...Array.from(t.removedNodes)]),[]);return!t.every((e=>"#comment"===e.nodeName))&&e.reduce(((e,t)=>{if(!1===e)return!1;if(t.target instanceof Element){if(T(t.target),!e.has(t.target)){e.add(t.target);for(let n=0;n<t.target.children.length;n++){const o=t.target.children.item(n);if(o){if(g in o)return!1;T(t.target,o),e.add(o)}}}if(t.removedNodes.length)for(let n=0;n<t.removedNodes.length;n++){const o=t.removedNodes[n];if(g in o)return!1;o instanceof Element&&(e.add(o),T(t.target,o),r.set(o,[t.previousSibling,t.nextSibling]))}}return e}),new Set)}(e);t&&t.forEach((e=>function(e){var t;const n=e.isConnected,o=i.has(e);n&&r.has(e)&&r.delete(e);a.has(e)&&(null===(t=a.get(e))||void 0===t||t.cancel());w in e?B(e):o&&n?function(e){const t=i.get(e),n=N(e);if(!k(e))return i.set(e,n);let o;if(!t)return;const r=C(e);if("function"!=typeof r){const i=t.left-n.left,a=t.top-n.top,[s,l,d,c]=O(e,t,n),u={transform:`translate(${i}px, ${a}px)`},f={transform:"translate(0, 0)"};s!==l&&(u.width=`${s}px`,f.width=`${l}px`),d!==c&&(u.height=`${d}px`,f.height=`${c}px`),o=e.animate([u,f],{duration:r.duration,easing:r.easing})}else{const[i]=$(r(e,"remain",t,n));o=new Animation(i),o.play()}a.set(e,o),i.set(e,n),o.addEventListener("finish",v.bind(null,e))}(e):o&&!n?function(e){var t;if(!r.has(e)||!i.has(e))return;const[n,o]=r.get(e);Object.defineProperty(e,g,{value:!0,configurable:!0});const s=window.scrollX,l=window.scrollY;o&&o.parentNode&&o.parentNode instanceof Element?o.parentNode.insertBefore(e,o):n&&n.parentNode?n.parentNode.appendChild(e):null===(t=j(e))||void 0===t||t.appendChild(e);if(!k(e))return _(e);const[d,c,u,m]=function(e){const t=i.get(e),[n,,o]=O(e,t,N(e));let r=e.parentElement;for(;r&&("static"===getComputedStyle(r).position||r instanceof HTMLBodyElement);)r=r.parentElement;r||(r=document.body);const a=getComputedStyle(r),s=i.get(r)||N(r),l=Math.round(t.top-s.top)-L(a.borderTopWidth),d=Math.round(t.left-s.left)-L(a.borderLeftWidth);return[l,d,n,o]}(e),w=C(e),y=i.get(e);s===p&&l===h||function(e,t,n,o){const i=p-t,r=h-n,a=document.documentElement.style.scrollBehavior;"smooth"===getComputedStyle(f).scrollBehavior&&(document.documentElement.style.scrollBehavior="auto");if(window.scrollTo(window.scrollX+i,window.scrollY+r),!e.parentElement)return;const s=e.parentElement;let l=s.clientHeight,d=s.clientWidth;const c=performance.now();function u(){requestAnimationFrame((()=>{if(!A(o)){const e=l-s.clientHeight,t=d-s.clientWidth;c+o.duration>performance.now()?(window.scrollTo({left:window.scrollX-t,top:window.scrollY-e}),l=s.clientHeight,d=s.clientWidth,u()):document.documentElement.style.scrollBehavior=a}}))}u()}(e,s,l,w);let b,v={position:"absolute",top:`${d}px`,left:`${c}px`,width:`${u}px`,height:`${m}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(A(w)){const[t,n]=$(w(e,"remove",y));!1!==(null==n?void 0:n.styleReset)&&(v=(null==n?void 0:n.styleReset)||v,Object.assign(e.style,v)),b=new Animation(t),b.play()}else Object.assign(e.style,v),b=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:w.duration,easing:"ease-out"});a.set(e,b),b.addEventListener("finish",_.bind(null,e,v))}(e):B(e)}(e)))},b=e=>{e.forEach((e=>{e.target===f&&(clearTimeout(c.get(f)),c.set(f,setTimeout((()=>{o.forEach((e=>S(e,(e=>M((()=>v(e)))))))}),100))),i.has(e.target)&&v(e.target)}))};function v(e){clearTimeout(c.get(e));const t=C(e),n=A(t)?500:t.duration;c.set(e,setTimeout((async()=>{const t=a.get(e);try{await(null==t?void 0:t.finished),i.set(e,N(e)),function(e){const t=s.get(e);null==t||t.disconnect();let n=i.get(e),o=0;n||(n=N(e),i.set(e,n));const{offsetWidth:r,offsetHeight:a}=f,l=[n.top-5,r-(n.left+5+n.width),a-(n.top+5+n.height),n.left-5].map((e=>-1*Math.floor(e)+"px")).join(" "),d=new IntersectionObserver((()=>{++o>1&&v(e)}),{root:f,threshold:1,rootMargin:l});d.observe(e),s.set(e,d)}(e)}catch{}}),n))}function E(e){setTimeout((()=>{l.set(e,setInterval((()=>M(v.bind(null,e))),2e3))}),Math.round(2e3*Math.random()))}function M(e){"function"==typeof requestIdleCallback?requestIdleCallback((()=>e())):requestAnimationFrame((()=>e()))}let x,W;function T(e,t){t||m in e?t&&!(m in t)&&Object.defineProperty(t,m,{value:e}):Object.defineProperty(e,m,{value:e})}function L(e){return Number(e.replace(/[^0-9.\-]/g,""))}function N(e){const t=e.getBoundingClientRect(),{x:n,y:o}=function(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}(e);return{top:t.top+o,left:t.left+n,width:t.width,height:t.height}}function O(e,t,n){let o=t.width,i=t.height,r=n.width,a=n.height;const s=getComputedStyle(e);if("content-box"===s.getPropertyValue("box-sizing")){const e=L(s.paddingTop)+L(s.paddingBottom)+L(s.borderTopWidth)+L(s.borderBottomWidth),t=L(s.paddingLeft)+L(s.paddingRight)+L(s.borderRightWidth)+L(s.borderLeftWidth);o-=t,r-=t,i-=e,a-=e}return[o,r,i,a].map(Math.round)}function C(e){return m in e&&d.has(e[m])?d.get(e[m]):{duration:250,easing:"ease-in-out"}}function j(e){if(m in e)return e[m]}function k(e){const t=j(e);return!!t&&u.has(t)}function S(e,...t){t.forEach((t=>t(e,d.has(e))));for(let n=0;n<e.children.length;n++){const o=e.children.item(n);o&&t.forEach((e=>e(o,d.has(o))))}}function $(e){return Array.isArray(e)?e:[e]}function A(e){return"function"==typeof e}function B(e){w in e&&delete e[w];const t=N(e);i.set(e,t);const n=C(e);if(!k(e))return;let o;if("function"!=typeof n)o=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:1.5*n.duration,easing:"ease-in"});else{const[i]=$(n(e,"add",t));o=new Animation(i),o.play()}a.set(e,o),o.addEventListener("finish",v.bind(null,e))}function _(e,t){var n;e.remove(),i.delete(e),r.delete(e),a.delete(e),null===(n=s.get(e))||void 0===n||n.disconnect(),setTimeout((()=>{if(g in e&&delete e[g],Object.defineProperty(e,w,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(const n in t)e.style[n]=""}),0)}function H(i){const{el:r,...a}=i,s=e(r);let l;return t(s,(()=>{const e=n(s);e instanceof HTMLElement&&(l=function(e,t={}){x&&W&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!A(t)&&!t.disrespectUserMotionPreference||(u.add(e),"static"===getComputedStyle(e).position&&Object.assign(e.style,{position:"relative"}),S(e,v,E,(e=>null==W?void 0:W.observe(e))),A(t)?d.set(e,t):d.set(e,{duration:250,easing:"ease-in-out",...t}),x.observe(e,{childList:!0}),o.add(e)));return Object.freeze({parent:e,enable:()=>{u.add(e)},disable:()=>{u.delete(e)},isEnabled:()=>u.has(e)})}(e,{duration:300,easing:"ease-in-out",disrespectUserMotionPreference:!0,...a}))})),[s,function(e){l&&(e?l.enable():l.disable())}]}"undefined"!=typeof window&&(f=document.documentElement,x=new MutationObserver(y),W=new ResizeObserver(b),window.addEventListener("scroll",(()=>{h=window.scrollY,p=window.scrollX})),W.observe(f));export{H as u};
